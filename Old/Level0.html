<!DOCTYPE html>
<html>
<head>
<script src="functionability.js"></script>
<style>
	* {
		overflow: hidden;
	}
	body {
		background-color: #cbdbf5;
	}
	.hidden {
		visibility: hidden;
		font-size: 50px;
		color: blue;
	}
	#everything {
		position: absolute;
		width: 100vw;
		height: 100vh;
		left: 0px;
		top: 0px;
		background-color: transparent;
	}
	#player {
		height: 20px;
		width: 20px;
		background-color: rgb(100, 100, 100);
		position: absolute;
	}
	#screenResolution {
		position: absolute;
		bottom: 1vh;
		right: 1vw;
		font-size: 20px;
	}
</style>
</head>
<body>
	<div id="everything"></div> <!--makes the mouse always locked onto square-->
	<div id="player" style="z-index: 100;"></div> <!--this gray square is the player-->
	<p id="coords"></p> <!--debug: shows coordinates-->
	<p id="blockName"></p> <!--debug: shows name of block touched by player-->
	<div><b class="hidden" id="noclip">NOCLIP</b></div> <!--dev tool: turns noclip on (click "n")-->
	<canvas id="Canvas" width="1366" height="768" style="position: absolute; left: 0px; top: 0px;">
	<b id="screenResolution"></b> <!--game will only work on 1366x768 (for now)-->
<script>
	var levelId = "0";
	var levelName = "Tutorial";
	
	var c = document.getElementById("Canvas");
	c.width = window.screen.width;
	c.height = window.screen.height;
	var ctx = c.getContext("2d");
	var player = document.getElementById("player");
	
	var canvas = document.body;
	var audio = new Audio('Level' + levelId + 'Song.mp3');
	audio.loop = true;
	canvas.onmousedown = function() {
		if (levelEnded == false) {
			canvas.requestPointerLock();
			audio.play();
		}
	}

	var phaseNumber = 1;
	phase();
	
	//LEVEL DATA
	function phase() {
		if (phaseNumber == 1) {
			clear();
			sBD("SC", "SC", 110, 110);
			createText("The gray square is you, the player. <b>Click</b> anywhere to begin.", 280, 60, 18, 500);
			createText("Drag your <b>mouse/touchpad</b> to move around. (Also, <b>zooming in</b> is recommended)", 183, 90, 18, 700);
			createText("Hit the <b>yellow</b> block to continue on to the next part.", 900, 500, 18, 500);
			sBD("C", "C", 1166, 568, 100, 100);
		}
		if (phaseNumber == 2) {
			clear();
			sBD("SC", "SC", 150, 658);
			sBD("w1", "w", 0, 202, 1066, 366);
			createText("The <b>black</b> block is a wall. You can touch it but you cannot go through it.", 300, 600, 15, 180);
			sBD("db1", "db", 1341, 202, 25, 366);
			createText("The <b>red</b> block kills you. Do not touch it or you'll have to restart the whole level!", 1150, 580, 15, 180);
			sBD("kb1", "kb", 666, 0, 200, 100);
			createText("The <b>orange</b> block also kills you, but it will bring you back to your last checkpoint.", 675, 110, 15, 180);
			sBD("C", "C", 100, 50, 100, 100);
		}
		if (phaseNumber == 3) {
			clear();
			sBD("SC", "SC", 1216, 658);
			createText("Here are a lot of other gimmicks you can play around with. Once you're done, hit the <b>green</b> object at the top and you've successfully completed the tutorial!", 350, 600, 18, 575);
			sBD("w1", "w", 1200, 0, 10, 200);
			sBD("tp1A", ["tp", "left"], 1356, 693);
			sBD("tp1B", ["tp", "right"], 0, 693);
			sMBD("w2", "w", 177, 277, 45, 45, [[277, 277], [277, 377], [177, 377], [177, 277], 5]);
			sBD("kd1", "kd", 1210, 168, 156, 30);
			sBD("k1", "k", 1100, 100, 10, 10);
			sBD("CB", "CB", 643, 25, 100, 100);
		}
	}
	
	window.requestAnimationFrame(functionability);
	
	//DEV TOOLS
	document.body.onkeydown = function(e){
		devTools(e);
	}
</script>
</body>
</html>
